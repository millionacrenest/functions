/**
 * @module just-get-json
 */

/** Module to make sync HTTP requests.
 * @see {@link https://www.npmjs.com/package/sync-request|sync-request}
 */
var request = require('sync-request');

/**
 * Gets JSON object from API request.
 * @param {string} url - Valid URL (HTTP/HTTPS)
 * @returns {object} JSON object from API request
 */
module.exports = function (url) {
  /** Here we get and store HTTP response.
   * @type {Response}
   * @see {@link https://www.npmjs.com/package/sync-request|sync-request}
   */
  var justResponse = request('GET', url);
  /** Here we get string from body of response.
   * @type {string}
   */
  var justString = justResponse.getBody().toString();
  /** Here we parse string as JSON.
   * @type {object}
   */
  var justJSON = JSON.parse(justString);
  return justJSON;
};
